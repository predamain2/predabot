<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Player Stats</title>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Orbitron:wght@600;700;800;900&display=swap" rel="stylesheet">
	<style>
		* {
			box-sizing: border-box;
			margin: 0;
			padding: 0;
		}

		/* Main layout - closer to the reference UI */
		body {
			background: radial-gradient(1000px 500px at 80% -10%, rgba(220, 20, 60, 0.25), transparent 60%),
				radial-gradient(1000px 500px at 10% 110%, rgba(124, 58, 237, 0.25), transparent 60%),
				#0f0f12;
			color: #fff;
			font-family: 'Inter', sans-serif;
			min-height: 100vh;
			display: flex;
			align-items: center;
			justify-content: center;
			padding: 24px;
		}

		.page {
			width: 100%;
			max-width: 1280px;
			display: grid;
			grid-template-columns: 2fr 1fr;
			gap: 20px;
		}

		.card {
			background: linear-gradient(145deg, #151519 0%, #0f0f12 100%);
			border: 1px solid rgba(255,255,255,0.08);
			border-radius: 14px;
			box-shadow: 0 12px 24px rgba(0,0,0,0.6);
		}

		.header-card {
			grid-column: 1 / -1;
			padding: 18px 20px;
			display: grid;
			grid-template-columns: 80px 1fr 400px;
			gap: 16px;
			align-items: center;
		}

		.avatar {
			width: 72px;
			height: 72px;
			border-radius: 12px;
			background: linear-gradient(135deg, #1f1f23, #141417);
			border: 1px solid rgba(255,255,255,0.08);
		}

		.player-meta h2 {
			margin: 0;
			font-size: 24px;
			font-weight: 800;
		}

		.player-meta .sub {
			margin-top: 2px;
			font-size: 12px;
			color: rgba(255,255,255,0.6);
		}

		.header-stats {
			display: grid;
			grid-template-columns: repeat(4, 1fr);
			gap: 12px;
		}

		.header-pill {
			background: rgba(255,255,255,0.03);
			border: 1px solid rgba(255,255,255,0.08);
			border-radius: 10px;
			padding: 10px 12px;
			text-align: center;
		}

		.header-pill .label { font-size: 11px; color: rgba(255,255,255,0.6); text-transform: uppercase; letter-spacing: 1px; }
		.header-pill .value { font-size: 18px; font-weight: 800; margin-top: 4px; }

		.grid-2 {
			display: grid;
			grid-template-columns: 1.7fr 1fr;
			gap: 20px;
		}

		.panel { padding: 16px; }
		.panel-title { font-weight: 700; font-size: 14px; letter-spacing: 1px; color: rgba(255,255,255,0.7); text-transform: uppercase; margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }

		.stats-area { display: grid; grid-template-columns: 1.2fr 1fr; gap: 16px; }

		.kd-ring {
			--p: calc(min({{ (stats.kd or 0) }}, 2) / 2 * 100);
			width: 160px; height: 160px; border-radius: 50%;
			background:
				radial-gradient(closest-side, #0f0f12 72%, transparent 74% 100%),
				conic-gradient(#ff2d55 var(--p), rgba(255,255,255,0.08) 0);
			position: relative; display: grid; place-items: center; box-shadow: inset 0 0 0 8px rgba(255,255,255,0.04);
		}
		.kd-ring .inner { position: absolute; inset: 10px; border-radius: 50%; background: linear-gradient(145deg, #17171b, #101015); }
		.kd-ring .text { position: absolute; font-family: 'Orbitron', monospace; font-size: 28px; font-weight: 800; z-index: 2; }
		.kd-meta { display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px; margin-top: 8px; }
		.kd-chip { background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.08); border-radius: 8px; padding: 8px; text-align: center; }
		.kd-chip .label { font-size: 10px; color: rgba(255,255,255,0.6); text-transform: uppercase; }
		.kd-chip .val { font-weight: 800; font-size: 16px; }

		.small-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
		.small-card { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08); border-radius: 10px; padding: 10px; }
		.small-card .label { font-size: 11px; color: rgba(255,255,255,0.6); text-transform: uppercase; }
		.small-card .value { font-family: 'Orbitron', monospace; font-size: 20px; font-weight: 800; margin-top: 4px; }
		.bar { height: 6px; border-radius: 999px; background: rgba(255,255,255,0.08); margin-top: 8px; position: relative; overflow: hidden; }
		.bar::after { content: ''; position: absolute; left: 0; top: 0; bottom: 0; width: var(--w, 0%); background: linear-gradient(90deg, #ff2d55, #7c3aed); }

		.map-panel { margin-top: 16px; }
		.map-grid { display: grid; grid-template-columns: 220px 1fr; gap: 16px; }
		.map-donut { --p: {{ stats.win_rate or 0 }}; width: 120px; height: 120px; border-radius: 50%; background:
			radial-gradient(closest-side, #0f0f12 72%, transparent 74% 100%),
			conic-gradient(#7c3aed calc(var(--p) * 1%), rgba(255,255,255,0.08) 0);
			display: grid; place-items: center; position: relative; }
		.map-donut .inner { position: absolute; inset: 10px; border-radius: 50%; background: linear-gradient(145deg, #17171b, #101015); }
		.map-donut .text { position: relative; font-family: 'Orbitron', monospace; font-size: 22px; font-weight: 800; }

		.map-cards { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
		.map-card { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08); border-radius: 10px; padding: 10px; }
		.map-card .title { font-weight: 700; font-size: 14px; margin-bottom: 6px; }
		.map-card .meta { font-size: 12px; color: rgba(255,255,255,0.7); }

		.right-col { display: grid; gap: 20px; }

		.recent-grid { display: grid; grid-template-columns: repeat(10, 1fr); gap: 8px; }
		.rec { height: 28px; border-radius: 6px; display: grid; place-items: center; font-weight: 800; font-size: 12px; }
		.rec.w { background: rgba(34,197,94,0.18); color: #34d399; border: 1px solid rgba(34,197,94,0.35); }
		.rec.l { background: rgba(239,68,68,0.18); color: #f87171; border: 1px solid rgba(239,68,68,0.35); }

		/* Responsive */
		@media (max-width: 1100px) {
			.page { grid-template-columns: 1fr; }
		}
	</style>
</head>
<body>
	<div class="page">
		<div class="card header-card">
			<div class="avatar"></div>
			<div class="player-meta">
				<h2>{{ stats.name|default('Player', true) }}</h2>
				<div class="sub">ID: {{ stats.player_id|default('-', true) }}</div>
			</div>
			<div class="header-stats">
				<div class="header-pill"><div class="label">Points</div><div class="value">{{ stats.points|default(0, true) }}</div></div>
				<div class="header-pill"><div class="label">Games</div><div class="value">{{ stats.total_games|default(0, true) }}</div></div>
				<div class="header-pill"><div class="label">Wins</div><div class="value">{{ stats.wins|default(0, true) }}</div></div>
				<div class="header-pill"><div class="label">Losses</div><div class="value">{{ stats.losses|default(0, true) }}</div></div>
			</div>
		</div>

		<div class="grid-2">
			<div>
				<div class="card panel">
					<div class="panel-title">Statistic</div>
					<div class="stats-area">
						<div>
							<div class="kd-ring">
								<div class="inner"></div>
								<div class="text">{{ stats.kd|default(0, true) }}</div>
							</div>
							<div class="kd-meta">
								<div class="kd-chip"><div class="label">Kills</div><div class="val">{{ stats.kills|default(0, true) }}</div></div>
								<div class="kd-chip"><div class="label">Deaths</div><div class="val">{{ stats.deaths|default(0, true) }}</div></div>
							</div>
						</div>
						<div class="small-grid">
							<div class="small-card"><div class="label">AVG</div><div class="value">{{ stats.avg|default('—', true) }}</div><div class="bar" style="--w: {{ (stats.avg or 0) * 5 }}%"></div></div>
							<div class="small-card"><div class="label">Assists</div><div class="value">{{ stats.assists|default(0, true) }}</div><div class="bar" style="--w: {{ (stats.assists or 0) % 100 }}%"></div></div>
							<div class="small-card"><div class="label">Win Rate</div><div class="value">{{ stats.win_rate|default(0, true) }}%</div><div class="bar" style="--w: {{ (stats.win_rate or 0) * 1 }}%"></div></div>
						</div>
					</div>
				</div>

				<div class="card panel map-panel">
					<div class="panel-title">Map Statistic</div>
					<div class="map-grid">
						<div style="display:flex;align-items:center;gap:12px;">
							<div class="map-donut"><div class="inner"></div><div class="text">{{ stats.win_rate|default(0, true) }}%</div></div>
							<div>
								<div class="label" style="text-transform:uppercase;letter-spacing:1px;color:rgba(255,255,255,0.7);font-size:12px;">Win Rate</div>
								<div class="chips" style="margin-top:6px;display:flex;gap:8px;">
									<span class="kd-chip" style="background:rgba(34,197,94,0.18);border-color:rgba(34,197,94,0.35);color:#34d399;">W {{ stats.wins|default(0, true) }}</span>
									<span class="kd-chip" style="background:rgba(239,68,68,0.18);border-color:rgba(239,68,68,0.35);color:#f87171;">L {{ stats.losses|default(0, true) }}</span>
								</div>
							</div>
						</div>
						<div class="map-cards">
							{% for m in stats.maps or [] %}
							<div class="map-card">
								<div class="title">{{ m.name }}</div>
								<div class="meta">K/D {{ m.kd|default('—', true) }} • W/R {{ m.win_rate|default('—', true) }}%</div>
							</div>
							{% endfor %}
						</div>
					</div>
				</div>
			</div>

			<div class="right-col">
				<div class="card panel">
					<div class="panel-title">Recent Matches</div>
					<div class="recent-grid">
						{% for r in stats.recent or [] %}
						<div class="rec {% if r == 'W' %}w{% else %}l{% endif %}">{{ r }}</div>
						{% endfor %}
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>
